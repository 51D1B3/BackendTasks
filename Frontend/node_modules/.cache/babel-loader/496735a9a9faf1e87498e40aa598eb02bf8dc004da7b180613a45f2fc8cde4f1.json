{"ast":null,"code":"import _objectSpread from\"c:/Users/51D1B3/Documents/GestionTasks/Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useCallback}from'react';import{Link,useNavigate}from'react-router-dom';import{useAuth}from'../contexts/AuthContext';import Input from'../components/UI/Input';import Button from'../components/UI/Button';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Register=()=>{const[formData,setFormData]=useState({name:'',email:'',password:'',confirmPassword:''});const[errors,setErrors]=useState({});const[loading,setLoading]=useState(false);const{register}=useAuth();const navigate=useNavigate();const handleChange=useCallback(e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));if(errors[name]){setErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:''}));}},[errors]);const validateForm=useCallback(()=>{const newErrors={};if(!formData.name.trim()){newErrors.name='Le nom est obligatoire';}if(!formData.email){newErrors.email='L\\'email est obligatoire';}else if(!/\\S+@\\S+\\.\\S+/.test(formData.email)){newErrors.email='Format d\\'email invalide';}if(!formData.password){newErrors.password='Le mot de passe est obligatoire';}else if(formData.password.length<6){newErrors.password='Le mot de passe doit contenir au moins 6 caract√®res';}if(formData.password!==formData.confirmPassword){newErrors.confirmPassword='Les mots de passe ne correspondent pas';}setErrors(newErrors);return Object.keys(newErrors).length===0;},[formData]);const handleSubmit=useCallback(async e=>{e.preventDefault();if(!validateForm()){return;}setLoading(true);try{await register({name:formData.name,email:formData.email,password:formData.password});navigate('/');}catch(error){var _error$response,_error$response$data;setErrors({submit:((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Erreur lors de la cr√©ation du compte'});}finally{setLoading(false);}},[formData,validateForm,register,navigate]);return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"\\uD83D\\uDCCB Gestionnaire de T\\xE2ches\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:\"Cr\\xE9ez votre compte\"})]}),/*#__PURE__*/_jsxs(\"form\",{className:\"mt-8 space-y-6\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsx(Input,{label:\"Nom complet\",name:\"name\",value:formData.name,onChange:handleChange,error:errors.name,placeholder:\"Votre nom complet\",autoComplete:\"name\"}),/*#__PURE__*/_jsx(Input,{label:\"Email\",name:\"email\",type:\"email\",value:formData.email,onChange:handleChange,error:errors.email,placeholder:\"votre@email.com\",autoComplete:\"email\"}),/*#__PURE__*/_jsx(Input,{label:\"Mot de passe\",name:\"password\",type:\"password\",value:formData.password,onChange:handleChange,error:errors.password,placeholder:\"Au moins 6 caract\\xE8res\",autoComplete:\"new-password\"}),/*#__PURE__*/_jsx(Input,{label:\"Confirmer le mot de passe\",name:\"confirmPassword\",type:\"password\",value:formData.confirmPassword,onChange:handleChange,error:errors.confirmPassword,placeholder:\"Confirmez votre mot de passe\",autoComplete:\"new-password\"})]}),errors.submit&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-danger-50 border border-danger-200 rounded-md p-3\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-danger-600\",children:errors.submit})}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"w-full\",loading:loading,disabled:loading,children:\"Cr\\xE9er mon compte\"}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-600\",children:[\"D\\xE9j\\xE0 un compte ?\",' ',/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"font-medium text-primary-600 hover:text-primary-500\",children:\"Se connecter\"})]})})]})]})});};export default Register;","map":{"version":3,"names":["React","useState","useCallback","Link","useNavigate","useAuth","Input","Button","jsx","_jsx","jsxs","_jsxs","Register","formData","setFormData","name","email","password","confirmPassword","errors","setErrors","loading","setLoading","register","navigate","handleChange","e","value","target","prev","_objectSpread","validateForm","newErrors","trim","test","length","Object","keys","handleSubmit","preventDefault","error","_error$response","_error$response$data","submit","response","data","message","className","children","onSubmit","label","onChange","placeholder","autoComplete","type","disabled","to"],"sources":["c:/Users/51D1B3/Documents/GestionTasks/Frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState, useCallback } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport Input from '../components/UI/Input';\nimport Button from '../components/UI/Button';\n\nconst Register = () => {\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    password: '',\n    confirmPassword: ''\n  });\n  const [errors, setErrors] = useState({});\n  const [loading, setLoading] = useState(false);\n\n  const { register } = useAuth();\n  const navigate = useNavigate();\n\n  const handleChange = useCallback((e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  }, [errors]);\n\n  const validateForm = useCallback(() => {\n    const newErrors = {};\n    \n    if (!formData.name.trim()) {\n      newErrors.name = 'Le nom est obligatoire';\n    }\n    \n    if (!formData.email) {\n      newErrors.email = 'L\\'email est obligatoire';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(formData.email)) {\n      newErrors.email = 'Format d\\'email invalide';\n    }\n    \n    if (!formData.password) {\n      newErrors.password = 'Le mot de passe est obligatoire';\n    } else if (formData.password.length < 6) {\n      newErrors.password = 'Le mot de passe doit contenir au moins 6 caract√®res';\n    }\n    \n    if (formData.password !== formData.confirmPassword) {\n      newErrors.confirmPassword = 'Les mots de passe ne correspondent pas';\n    }\n\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  }, [formData]);\n\n  const handleSubmit = useCallback(async (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    setLoading(true);\n    try {\n      await register({\n        name: formData.name,\n        email: formData.email,\n        password: formData.password\n      });\n      navigate('/');\n    } catch (error) {\n      setErrors({ \n        submit: error.response?.data?.message || 'Erreur lors de la cr√©ation du compte' \n      });\n    } finally {\n      setLoading(false);\n    }\n  }, [formData, validateForm, register, navigate]);\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            üìã Gestionnaire de T√¢ches\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            Cr√©ez votre compte\n          </p>\n        </div>\n        \n        <form className=\"mt-8 space-y-6\" onSubmit={handleSubmit}>\n          <div className=\"space-y-4\">\n            <Input\n              label=\"Nom complet\"\n              name=\"name\"\n              value={formData.name}\n              onChange={handleChange}\n              error={errors.name}\n              placeholder=\"Votre nom complet\"\n              autoComplete=\"name\"\n            />\n            \n            <Input\n              label=\"Email\"\n              name=\"email\"\n              type=\"email\"\n              value={formData.email}\n              onChange={handleChange}\n              error={errors.email}\n              placeholder=\"votre@email.com\"\n              autoComplete=\"email\"\n            />\n            \n            <Input\n              label=\"Mot de passe\"\n              name=\"password\"\n              type=\"password\"\n              value={formData.password}\n              onChange={handleChange}\n              error={errors.password}\n              placeholder=\"Au moins 6 caract√®res\"\n              autoComplete=\"new-password\"\n            />\n            \n            <Input\n              label=\"Confirmer le mot de passe\"\n              name=\"confirmPassword\"\n              type=\"password\"\n              value={formData.confirmPassword}\n              onChange={handleChange}\n              error={errors.confirmPassword}\n              placeholder=\"Confirmez votre mot de passe\"\n              autoComplete=\"new-password\"\n            />\n          </div>\n\n          {errors.submit && (\n            <div className=\"bg-danger-50 border border-danger-200 rounded-md p-3\">\n              <p className=\"text-sm text-danger-600\">{errors.submit}</p>\n            </div>\n          )}\n\n          <Button\n            type=\"submit\"\n            className=\"w-full\"\n            loading={loading}\n            disabled={loading}\n          >\n            Cr√©er mon compte\n          </Button>\n\n          <div className=\"text-center\">\n            <p className=\"text-sm text-gray-600\">\n              D√©j√† un compte ?{' '}\n              <Link \n                to=\"/login\" \n                className=\"font-medium text-primary-600 hover:text-primary-500\"\n              >\n                Se connecter\n              </Link>\n            </p>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}